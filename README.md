# TCR Simulator Backend

[![Build Status](https://travis-ci.com/TCR-Simulator/TCR-Backend.svg?branch=master)](https://travis-ci.com/TCR-Simulator/TCR-Backend)

### Installing dependencies

    $ npm install

### Running a development server

    $ npm start

## Contributing

### Passing Travis CI builds

#### eslint

`eslint` is the linter used to ensure consistency of code style in the project.
The following command lints the codebase. Run this before pushing to the repo to detect linter errors early!

    $ npm run lint

Some `eslint` errors are fixable by this command:

    $ npm run lint -- --fix

#### Tests

Travis CI is set up to test the project as follows, and the build won't pass if this doesn't pass.

    $ npm test

## API Reference

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [Simulation](#simulation)
    -   [getAgentBalance](#getagentbalance)
        -   [Parameters](#parameters)
-   [TcrConnection](#tcrconnection)
    -   [Parameters](#parameters-1)
    -   [getBalance](#getbalance)
        -   [Parameters](#parameters-2)
-   [utils](#utils)
-   [privateToAddressHex](#privatetoaddresshex)
    -   [Parameters](#parameters-3)

### Simulation

#### getAgentBalance

Get the balance of an agent.

##### Parameters

-   `address` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Address of the agent to get the balance of, with the format '0x...'

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Balance of the agent in wei.

### TcrConnection

#### Parameters

-   `portNum`  
-   `contractAddr`  
-   `contractAbi`  

#### getBalance

Get the balance of an address.

##### Parameters

-   `address` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Address to get the balance of, with the format '0x...'

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Balance of the address in wei.

### utils

This module contains some utility functions.

### privateToAddressHex

Converts a private key to its corresponding address.

#### Parameters

-   `privateKey` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The given private key as a hex string i.e. '0x...'

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Ethereum address of the private key, as a hex string i.e. '0x...'
